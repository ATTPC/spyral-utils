
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentaion for the sypral-utils package">
      
      
      
        <link rel="canonical" href="https://example.com/api/plot/">
      
      
        <link rel="prev" href="../nuclear/particle_id/">
      
      
        <link rel="next" href="histogram/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>Module Overview - spyral-utils</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="spyral-utils" class="md-header__button md-logo" aria-label="spyral-utils" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            spyral-utils
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Module Overview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/gwm17/spyral-utils/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="spyral-utils" class="md-nav__button md-logo" aria-label="spyral-utils" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    spyral-utils
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gwm17/spyral-utils/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Documentaion
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Documentaion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../constants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Nuclear
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Nuclear
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nuclear/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nuclear/nuclear_map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nuclear Mass Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nuclear/target/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Target Material Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nuclear/particle_id/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particle ID Module
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plotting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Plotting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Module Overview
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Module Overview
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D" class="md-nav__link">
    <span class="md-ellipsis">
      Cut2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cut2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.get_vertices" class="md-nav__link">
    <span class="md-ellipsis">
      get_vertices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.get_x_axis" class="md-nav__link">
    <span class="md-ellipsis">
      get_x_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.get_y_axis" class="md-nav__link">
    <span class="md-ellipsis">
      get_y_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_arr_inside" class="md-nav__link">
    <span class="md-ellipsis">
      is_arr_inside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_cols_inside" class="md-nav__link">
    <span class="md-ellipsis">
      is_cols_inside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_default_x_axis" class="md-nav__link">
    <span class="md-ellipsis">
      is_default_x_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_default_y_axis" class="md-nav__link">
    <span class="md-ellipsis">
      is_default_y_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_point_inside" class="md-nav__link">
    <span class="md-ellipsis">
      is_point_inside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.serialize_json" class="md-nav__link">
    <span class="md-ellipsis">
      serialize_json
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.CutHandler" class="md-nav__link">
    <span class="md-ellipsis">
      CutHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CutHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.CutHandler.mpl_on_select" class="md-nav__link">
    <span class="md-ellipsis">
      mpl_on_select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.CutHandler.plotly_on_select" class="md-nav__link">
    <span class="md-ellipsis">
      plotly_on_select
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist1D" class="md-nav__link">
    <span class="md-ellipsis">
      Hist1D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hist1D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist1D.get_bin" class="md-nav__link">
    <span class="md-ellipsis">
      get_bin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist1D.get_subrange" class="md-nav__link">
    <span class="md-ellipsis">
      get_subrange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist1D.stats_for_range" class="md-nav__link">
    <span class="md-ellipsis">
      stats_for_range
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist2D" class="md-nav__link">
    <span class="md-ellipsis">
      Hist2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hist2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist2D.get_bin" class="md-nav__link">
    <span class="md-ellipsis">
      get_bin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist2D.get_subrange" class="md-nav__link">
    <span class="md-ellipsis">
      get_subrange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist2D.stats_for_range" class="md-nav__link">
    <span class="md-ellipsis">
      stats_for_range
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer" class="md-nav__link">
    <span class="md-ellipsis">
      Histogrammer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Histogrammer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.add_hist1d" class="md-nav__link">
    <span class="md-ellipsis">
      add_hist1d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.add_hist2d" class="md-nav__link">
    <span class="md-ellipsis">
      add_hist2d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.fill_hist1d" class="md-nav__link">
    <span class="md-ellipsis">
      fill_hist1d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.fill_hist2d" class="md-nav__link">
    <span class="md-ellipsis">
      fill_hist2d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.get_hist1d" class="md-nav__link">
    <span class="md-ellipsis">
      get_hist1d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.get_hist2d" class="md-nav__link">
    <span class="md-ellipsis">
      get_hist2d
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.deserialize_cut" class="md-nav__link">
    <span class="md-ellipsis">
      deserialize_cut
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.serialize_cut" class="md-nav__link">
    <span class="md-ellipsis">
      serialize_cut
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="histogram/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Histogram Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cut/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cut Module
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../for_devs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    For Developers
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D" class="md-nav__link">
    <span class="md-ellipsis">
      Cut2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cut2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.get_vertices" class="md-nav__link">
    <span class="md-ellipsis">
      get_vertices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.get_x_axis" class="md-nav__link">
    <span class="md-ellipsis">
      get_x_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.get_y_axis" class="md-nav__link">
    <span class="md-ellipsis">
      get_y_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_arr_inside" class="md-nav__link">
    <span class="md-ellipsis">
      is_arr_inside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_cols_inside" class="md-nav__link">
    <span class="md-ellipsis">
      is_cols_inside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_default_x_axis" class="md-nav__link">
    <span class="md-ellipsis">
      is_default_x_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_default_y_axis" class="md-nav__link">
    <span class="md-ellipsis">
      is_default_y_axis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.is_point_inside" class="md-nav__link">
    <span class="md-ellipsis">
      is_point_inside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Cut2D.serialize_json" class="md-nav__link">
    <span class="md-ellipsis">
      serialize_json
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.CutHandler" class="md-nav__link">
    <span class="md-ellipsis">
      CutHandler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CutHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.CutHandler.mpl_on_select" class="md-nav__link">
    <span class="md-ellipsis">
      mpl_on_select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.CutHandler.plotly_on_select" class="md-nav__link">
    <span class="md-ellipsis">
      plotly_on_select
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist1D" class="md-nav__link">
    <span class="md-ellipsis">
      Hist1D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hist1D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist1D.get_bin" class="md-nav__link">
    <span class="md-ellipsis">
      get_bin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist1D.get_subrange" class="md-nav__link">
    <span class="md-ellipsis">
      get_subrange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist1D.stats_for_range" class="md-nav__link">
    <span class="md-ellipsis">
      stats_for_range
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist2D" class="md-nav__link">
    <span class="md-ellipsis">
      Hist2D
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hist2D">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist2D.get_bin" class="md-nav__link">
    <span class="md-ellipsis">
      get_bin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist2D.get_subrange" class="md-nav__link">
    <span class="md-ellipsis">
      get_subrange
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Hist2D.stats_for_range" class="md-nav__link">
    <span class="md-ellipsis">
      stats_for_range
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer" class="md-nav__link">
    <span class="md-ellipsis">
      Histogrammer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Histogrammer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.add_hist1d" class="md-nav__link">
    <span class="md-ellipsis">
      add_hist1d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.add_hist2d" class="md-nav__link">
    <span class="md-ellipsis">
      add_hist2d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.fill_hist1d" class="md-nav__link">
    <span class="md-ellipsis">
      fill_hist1d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.fill_hist2d" class="md-nav__link">
    <span class="md-ellipsis">
      fill_hist2d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.get_hist1d" class="md-nav__link">
    <span class="md-ellipsis">
      get_hist1d
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spyral_utils.plot.Histogrammer.get_hist2d" class="md-nav__link">
    <span class="md-ellipsis">
      get_hist2d
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.deserialize_cut" class="md-nav__link">
    <span class="md-ellipsis">
      deserialize_cut
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spyral_utils.plot.serialize_cut" class="md-nav__link">
    <span class="md-ellipsis">
      serialize_cut
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="module-overview">Module Overview</h1>


<div class="doc doc-object doc-module">



<a id="spyral_utils.plot"></a>
    <div class="doc doc-contents first">

        <p>Parent module of all of the plotting related modules</p>


<details class="exports" open>
  <summary>Exports</summary>
  <p>Cut2D, CutHandler, serialize_cut, deserialize_cut
Hist1D, Hist2D, Histogrammer</p>
</details>







  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="spyral_utils.plot.Cut2D" class="doc doc-heading">
            <code>Cut2D</code>


</h2>


    <div class="doc doc-contents ">


        <p>Implementation of 2D cuts/gates/selections as used in many types of graphical analyses</p>
<p>Uses Shapely Polygon objects. Takes in a name (to identify the cut) and a list of points. The Polygon
takes the verticies, and can then be used to check if a point(s) is inside of the polygon using the
contains_* functions. Can be serialized to json format. Can also retreive Nx2 ndarray of vertices
for plotting after the fact.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Cut2D.path">path</span></code></td>
            <td>
                  <code><span title="matplotlib.path.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A matplotlib path (polygon) that is the actual cut shape</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Cut2D.name">name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A name for the cut</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Cut2D.x_axis">x_axis</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A name for the x-coordinate axis. Can be used with dataframes
to programmatically specify what data should be used to process
a cut.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Cut2D.y_axis">y_axis</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A name for the y-coordinate axis. Can be used with dataframes
to programmatically specify what data should be used to process
a cut.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Cut2D.is_point_inside" href="#spyral_utils.plot.Cut2D.is_point_inside">is_point_inside</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Check if a single point (x,y) is inside the cut</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Cut2D.is_arr_inside" href="#spyral_utils.plot.Cut2D.is_arr_inside">is_arr_inside</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Check if a list of points (x,y) are inside the cut</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Cut2D.is_cols_inside" href="#spyral_utils.plot.Cut2D.is_cols_inside">is_cols_inside</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Check if a set of polars Columns are inside the cut</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Cut2D.get_vertices" href="#spyral_utils.plot.Cut2D.get_vertices">get_vertices</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get the cut vertices</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Cut2D.serialize_json" href="#spyral_utils.plot.Cut2D.serialize_json">serialize_json</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get the JSON representation of the cut</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Cut2D</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Implementation of 2D cuts/gates/selections as used in many types of graphical analyses</span>

<span class="sd">    Uses Shapely Polygon objects. Takes in a name (to identify the cut) and a list of points. The Polygon</span>
<span class="sd">    takes the verticies, and can then be used to check if a point(s) is inside of the polygon using the</span>
<span class="sd">    contains_* functions. Can be serialized to json format. Can also retreive Nx2 ndarray of vertices</span>
<span class="sd">    for plotting after the fact.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    path: matplotlib.path.Path</span>
<span class="sd">        A matplotlib path (polygon) that is the actual cut shape</span>
<span class="sd">    name: str</span>
<span class="sd">        A name for the cut</span>
<span class="sd">    x_axis: str</span>
<span class="sd">        A name for the x-coordinate axis. Can be used with dataframes</span>
<span class="sd">        to programmatically specify what data should be used to process</span>
<span class="sd">        a cut.</span>
<span class="sd">    y_axis: str</span>
<span class="sd">        A name for the y-coordinate axis. Can be used with dataframes</span>
<span class="sd">        to programmatically specify what data should be used to process</span>
<span class="sd">        a cut.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    is_point_inside(x: float, y: float) -&gt; bool</span>
<span class="sd">        Check if a single point (x,y) is inside the cut</span>
<span class="sd">    is_arr_inside(points: list[tuple[float, float]]) -&gt; list[bool]</span>
<span class="sd">        Check if a list of points (x,y) are inside the cut</span>
<span class="sd">    is_cols_inside(columns: Series) -&gt; Series</span>
<span class="sd">        Check if a set of polars Columns are inside the cut</span>
<span class="sd">    get_vertices() -&gt; ndarray</span>
<span class="sd">        Get the cut vertices</span>
<span class="sd">    serialize_json() -&gt; str</span>
<span class="sd">        Get the JSON representation of the cut</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">vertices</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
        <span class="n">x_axis</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_CUT_AXIS</span><span class="p">,</span>
        <span class="n">y_axis</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_CUT_AXIS</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="p">:</span> <span class="n">Polygon</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_axis</span> <span class="o">=</span> <span class="n">x_axis</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_axis</span> <span class="o">=</span> <span class="n">y_axis</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_point_inside</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Is a point in the cut</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x: float</span>
<span class="sd">            point x-coordinate</span>
<span class="sd">        y: float</span>
<span class="sd">            point y-coordinate</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            true if inside, false if outside</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_arr_inside</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Which of the points in this list are in the cut</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        points: list[tuple[float, float]]</span>
<span class="sd">            List of points (x,y)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[bool]</span>
<span class="sd">            List of results of checking each point</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">contains_xy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="p">,</span> <span class="n">point</span><span class="p">)</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">points</span><span class="p">]</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_cols_inside</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="n">Series</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Series</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Which of the points in this Series are in the cut</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        columns: Series</span>
<span class="sd">            Polars dataframe series to check</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Series</span>
<span class="sd">            Series of True or False for each point</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span>
            <span class="p">[</span><span class="n">columns</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">columns</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">fields</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">Series</span><span class="p">(</span>
            <span class="p">[</span><span class="nb">bool</span><span class="p">(</span><span class="n">contains_xy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the cut vertices</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        list[tuple]</span>
<span class="sd">            the vertices</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="o">.</span><span class="n">exterior</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_x_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the name of the cut data x-axis</span>

<span class="sd">        The x-axis is the name of the data used to form</span>
<span class="sd">        the cut along the x-axis. Typically, this is the name</span>
<span class="sd">        of a dataframe column.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            The name of the x-axis. By default, the value</span>
<span class="sd">            is DefaultAxis.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_axis</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_y_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the name of the cut data y-axis</span>

<span class="sd">        The y-axis is the name of the data used to form</span>
<span class="sd">        the cut along the y-axis. Typically, this is the name</span>
<span class="sd">        of a dataframe column.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            The name of the y-axis. By default, the value</span>
<span class="sd">            is DefaultAxis.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_axis</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_default_x_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the x-axis is the default value</span>

<span class="sd">        If the x-axis field is unset, it defaults to DefaultAxis.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if default, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_axis</span> <span class="o">==</span> <span class="n">DEFAULT_CUT_AXIS</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_default_y_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the y-axis is the default value</span>

<span class="sd">        If the y-axis field is unset, it defaults to DefaultAxis.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            True if default, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_axis</span> <span class="o">==</span> <span class="n">DEFAULT_CUT_AXIS</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">serialize_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Serialize to JSON</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            JSON representation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="s2">&quot;xaxis&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="o">.</span><span class="n">x_axis</span><span class="p">,</span>
                <span class="s2">&quot;yaxis&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="o">.</span><span class="n">y_axis</span><span class="p">,</span>
                <span class="s2">&quot;vertices&quot;</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">polygon</span><span class="o">.</span><span class="n">exterior</span><span class="o">.</span><span class="n">coords</span><span class="p">),</span>
            <span class="p">},</span>
            <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.get_vertices" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_vertices</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the cut vertices</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[tuple]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the vertices</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the cut vertices</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[tuple]</span>
<span class="sd">        the vertices</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="o">.</span><span class="n">exterior</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.get_x_axis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_x_axis</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the name of the cut data x-axis</p>
<p>The x-axis is the name of the data used to form
the cut along the x-axis. Typically, this is the name
of a dataframe column.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the x-axis. By default, the value
is DefaultAxis.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_x_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the name of the cut data x-axis</span>

<span class="sd">    The x-axis is the name of the data used to form</span>
<span class="sd">    the cut along the x-axis. Typically, this is the name</span>
<span class="sd">    of a dataframe column.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The name of the x-axis. By default, the value</span>
<span class="sd">        is DefaultAxis.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_axis</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.get_y_axis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_y_axis</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the name of the cut data y-axis</p>
<p>The y-axis is the name of the data used to form
the cut along the y-axis. Typically, this is the name
of a dataframe column.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the y-axis. By default, the value
is DefaultAxis.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_y_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the name of the cut data y-axis</span>

<span class="sd">    The y-axis is the name of the data used to form</span>
<span class="sd">    the cut along the y-axis. Typically, this is the name</span>
<span class="sd">    of a dataframe column.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The name of the y-axis. By default, the value</span>
<span class="sd">        is DefaultAxis.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_axis</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.is_arr_inside" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_arr_inside</span><span class="p">(</span><span class="n">points</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Which of the points in this list are in the cut</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code>list[tuple[float, float]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of points (x,y)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[bool]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of results of checking each point</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_arr_inside</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Which of the points in this list are in the cut</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    points: list[tuple[float, float]]</span>
<span class="sd">        List of points (x,y)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[bool]</span>
<span class="sd">        List of results of checking each point</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">contains_xy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="p">,</span> <span class="n">point</span><span class="p">)</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">points</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.is_cols_inside" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_cols_inside</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Which of the points in this Series are in the cut</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>columns</code>
            </td>
            <td>
                  <code><span title="polars.Series">Series</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Polars dataframe series to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="polars.Series">Series</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Series of True or False for each point</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_cols_inside</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">columns</span><span class="p">:</span> <span class="n">Series</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Series</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Which of the points in this Series are in the cut</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    columns: Series</span>
<span class="sd">        Polars dataframe series to check</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Series</span>
<span class="sd">        Series of True or False for each point</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span>
        <span class="p">[</span><span class="n">columns</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">columns</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">fields</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">Series</span><span class="p">(</span>
        <span class="p">[</span><span class="nb">bool</span><span class="p">(</span><span class="n">contains_xy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.is_default_x_axis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_default_x_axis</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the x-axis is the default value</p>
<p>If the x-axis field is unset, it defaults to DefaultAxis.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if default, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_default_x_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the x-axis is the default value</span>

<span class="sd">    If the x-axis field is unset, it defaults to DefaultAxis.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bool</span>
<span class="sd">        True if default, False otherwise</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_axis</span> <span class="o">==</span> <span class="n">DEFAULT_CUT_AXIS</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.is_default_y_axis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_default_y_axis</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Check if the y-axis is the default value</p>
<p>If the y-axis field is unset, it defaults to DefaultAxis.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if default, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_default_y_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the y-axis is the default value</span>

<span class="sd">    If the y-axis field is unset, it defaults to DefaultAxis.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bool</span>
<span class="sd">        True if default, False otherwise</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_axis</span> <span class="o">==</span> <span class="n">DEFAULT_CUT_AXIS</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.is_point_inside" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_point_inside</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Is a point in the cut</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>point x-coordinate</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>point y-coordinate</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>true if inside, false if outside</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_point_inside</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Is a point in the cut</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    x: float</span>
<span class="sd">        point x-coordinate</span>
<span class="sd">    y: float</span>
<span class="sd">        point y-coordinate</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bool</span>
<span class="sd">        true if inside, false if outside</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">polygon</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Cut2D.serialize_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serialize_json</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Serialize to JSON</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>JSON representation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">serialize_json</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize to JSON</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        JSON representation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;xaxis&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="o">.</span><span class="n">x_axis</span><span class="p">,</span>
            <span class="s2">&quot;yaxis&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="o">.</span><span class="n">y_axis</span><span class="p">,</span>
            <span class="s2">&quot;vertices&quot;</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">polygon</span><span class="o">.</span><span class="n">exterior</span><span class="o">.</span><span class="n">coords</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="spyral_utils.plot.CutHandler" class="doc doc-heading">
            <code>CutHandler</code>


</h2>


    <div class="doc doc-contents ">


        <p>Handler to recieve vertices from a matplotlib or plotly selector.</p>
<p>Typically will be used interactively. The appropriate on_select method should be passed to the selector object or callback for the
plotting API used. CutHandler currently supports matplotlib and plotly. CutHandler can also be used in analysis applications to store cuts.</p>
<p>An example script for each API:</p>
<p>Matplotlib</p>
<pre><code class="language-python">from spyral_utils.plot import CutHandler, Cut2D, serialize_cut
from matplotlib.widgets import PolygonSelector
import matplotlib.pyplot as plt

fig, ax = plt.subplots(1,1)
handler = CutHandler()
selector = PolygonSelector(ax, handler.mpl_on_select)

# Plot some data here...

plt.show()

# Wait for user to draw a cut and close the window

my_cut = handler.cuts[&quot;cut_0&quot;]
my_cut.name = &quot;my_cut&quot;
serialize_cut(mycut, &quot;my_cut.json&quot;)
</code></pre>
<p>Plotly</p>
<pre><code class="language-python">from spyral_utils.plot import CutHandler, Cut2D, serialize_cut
import plotly.graph_objects as go

handler = CutHandler()

# Do some plotting

fig = go.Figure()
fig.add_trace(...)

# Bind the callback

my_plot = fig.data[0]
my_plot.on_select(handler.plotly_on_select)

# Wait for user selection

my_cut = handler.cuts[&quot;cut_0&quot;]
my_cut.name = &quot;my_cut&quot;
serialize_cut(my_cut, &quot;my_cut.json&quot;)

</code></pre>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.CutHandler.cuts">cuts</span></code></td>
            <td>
                  <code>dict[str, <a class="autorefs autorefs-internal" title="spyral_utils.plot.cut.Cut2D" href="cut/#spyral_utils.plot.cut.Cut2D">Cut2D</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>mapping of cut name to Cut2D</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.CutHandler.mpl_on_select" href="#spyral_utils.plot.CutHandler.mpl_on_select">mpl_on_select</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>recieve a matplotlib polygon and create a Cut2D from it</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.CutHandler.plotly_on_select" href="#spyral_utils.plot.CutHandler.plotly_on_select">plotly_on_select</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>recieve a plotly selection event and create a Cut2D from it</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CutHandler</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handler to recieve vertices from a matplotlib or plotly selector.</span>

<span class="sd">    Typically will be used interactively. The appropriate on_select method should be passed to the selector object or callback for the</span>
<span class="sd">    plotting API used. CutHandler currently supports matplotlib and plotly. CutHandler can also be used in analysis applications to store cuts.</span>

<span class="sd">    An example script for each API:</span>

<span class="sd">    Matplotlib</span>
<span class="sd">    ```python</span>
<span class="sd">    from spyral_utils.plot import CutHandler, Cut2D, serialize_cut</span>
<span class="sd">    from matplotlib.widgets import PolygonSelector</span>
<span class="sd">    import matplotlib.pyplot as plt</span>

<span class="sd">    fig, ax = plt.subplots(1,1)</span>
<span class="sd">    handler = CutHandler()</span>
<span class="sd">    selector = PolygonSelector(ax, handler.mpl_on_select)</span>

<span class="sd">    # Plot some data here...</span>

<span class="sd">    plt.show()</span>

<span class="sd">    # Wait for user to draw a cut and close the window</span>

<span class="sd">    my_cut = handler.cuts[&quot;cut_0&quot;]</span>
<span class="sd">    my_cut.name = &quot;my_cut&quot;</span>
<span class="sd">    serialize_cut(mycut, &quot;my_cut.json&quot;)</span>
<span class="sd">    ```</span>

<span class="sd">    Plotly</span>
<span class="sd">    ```python</span>
<span class="sd">    from spyral_utils.plot import CutHandler, Cut2D, serialize_cut</span>
<span class="sd">    import plotly.graph_objects as go</span>

<span class="sd">    handler = CutHandler()</span>

<span class="sd">    # Do some plotting</span>

<span class="sd">    fig = go.Figure()</span>
<span class="sd">    fig.add_trace(...)</span>

<span class="sd">    # Bind the callback</span>

<span class="sd">    my_plot = fig.data[0]</span>
<span class="sd">    my_plot.on_select(handler.plotly_on_select)</span>

<span class="sd">    # Wait for user selection</span>

<span class="sd">    my_cut = handler.cuts[&quot;cut_0&quot;]</span>
<span class="sd">    my_cut.name = &quot;my_cut&quot;</span>
<span class="sd">    serialize_cut(my_cut, &quot;my_cut.json&quot;)</span>

<span class="sd">    ```</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    cuts: dict[str, Cut2D]</span>
<span class="sd">        mapping of cut name to Cut2D</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    mpl_on_select(verticies: list[tuple[float, float]])</span>
<span class="sd">        recieve a matplotlib polygon and create a Cut2D from it</span>
<span class="sd">    plotly_on_select(trace: Any, points: Any, selector: Any)</span>
<span class="sd">        recieve a plotly selection event and create a Cut2D from it</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Cut2D</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">mpl_on_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertices</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Callback for use with matplotlib</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        vertices: list[tuple[float, float]]</span>
<span class="sd">            polygon vertices</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cut_default_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;cut_</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">[</span><span class="n">cut_default_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">Cut2D</span><span class="p">(</span><span class="n">cut_default_name</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">plotly_on_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trace</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">selector</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Callback for use with plotly</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        trace: Any</span>
<span class="sd">            The plotly trace from which the event originated (not relevant)</span>
<span class="sd">        points:</span>
<span class="sd">            A plotly Points object containing the data indicies within the selection (not relevant)</span>
<span class="sd">        selector:</span>
<span class="sd">            The selector object (either BoxSelector or LassoSelector)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selector</span><span class="o">.</span><span class="n">xs</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">cut_default_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;cut_</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">[</span><span class="n">cut_default_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">Cut2D</span><span class="p">(</span>
            <span class="n">cut_default_name</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">selector</span><span class="o">.</span><span class="n">xs</span><span class="p">,</span> <span class="n">selector</span><span class="o">.</span><span class="n">ys</span><span class="p">))</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.CutHandler.mpl_on_select" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mpl_on_select</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Callback for use with matplotlib</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code>list[tuple[float, float]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>polygon vertices</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">mpl_on_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertices</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Callback for use with matplotlib</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    vertices: list[tuple[float, float]]</span>
<span class="sd">        polygon vertices</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cut_default_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;cut_</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">[</span><span class="n">cut_default_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">Cut2D</span><span class="p">(</span><span class="n">cut_default_name</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.CutHandler.plotly_on_select" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plotly_on_select</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Callback for use with plotly</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>trace</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The plotly trace from which the event originated (not relevant)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A plotly Points object containing the data indicies within the selection (not relevant)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The selector object (either BoxSelector or LassoSelector)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">plotly_on_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trace</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">points</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">selector</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Callback for use with plotly</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    trace: Any</span>
<span class="sd">        The plotly trace from which the event originated (not relevant)</span>
<span class="sd">    points:</span>
<span class="sd">        A plotly Points object containing the data indicies within the selection (not relevant)</span>
<span class="sd">    selector:</span>
<span class="sd">        The selector object (either BoxSelector or LassoSelector)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selector</span><span class="o">.</span><span class="n">xs</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">cut_default_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;cut_</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cuts</span><span class="p">[</span><span class="n">cut_default_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">Cut2D</span><span class="p">(</span>
        <span class="n">cut_default_name</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">selector</span><span class="o">.</span><span class="n">xs</span><span class="p">,</span> <span class="n">selector</span><span class="o">.</span><span class="n">ys</span><span class="p">))</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="spyral_utils.plot.Hist1D" class="doc doc-heading">
            <code>Hist1D</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Dataclass wrapping a numpy array used to store histogram data and retrieve histogram statistics</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist1D.name">name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>histogram name</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist1D.counts">counts</span></code></td>
            <td>
                  <code>ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>array of histogram counts</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist1D.bins">bins</span></code></td>
            <td>
                  <code>ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>array of histogram bin edges</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist1D.bin_width">bin_width</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the width of histogram bins</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Hist1D.get_bin" href="#spyral_utils.plot.Hist1D.get_bin">get_bin</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>get the bin number for an x-coordinate value</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Hist1D.stats_for_range" href="#spyral_utils.plot.Hist1D.stats_for_range">stats_for_range</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>get some statistics for a subrange of the histogram</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Hist1D.get_subrange" href="#spyral_utils.plot.Hist1D.get_subrange">get_subrange</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>get a histogram subrange (bin edges, counts)</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Hist1D</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass wrapping a numpy array used to store histogram data and retrieve histogram statistics</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        histogram name</span>
<span class="sd">    counts: ndarray</span>
<span class="sd">        array of histogram counts</span>
<span class="sd">    bins: ndarray</span>
<span class="sd">        array of histogram bin edges</span>
<span class="sd">    bin_width: float</span>
<span class="sd">        the width of histogram bins</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    get_bin(x: float) -&gt; int | None</span>
<span class="sd">        get the bin number for an x-coordinate value</span>
<span class="sd">    stats_for_range(xrange: tuple[float, float]) -&gt; tuple[float, float, float] | None</span>
<span class="sd">        get some statistics for a subrange of the histogram</span>
<span class="sd">    get_subrange(xrange: tuple[float, float]) -&gt; tuple[ndarray, ndarray]</span>
<span class="sd">        get a histogram subrange (bin edges, counts)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">counts</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">]</span>
    <span class="n">bins</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">]</span>
    <span class="n">bin_width</span><span class="p">:</span> <span class="nb">float</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_bin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the bin number which contains the x-coordinate</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        x: float</span>
<span class="sd">            X-coordinate for which we want to find the bin number</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int | None</span>
<span class="sd">            The bin number or None if the x value does not fall within the histogram</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">max</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">floor</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">bin_width</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">stats_for_range</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">xrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get some statistics for a histogram subrange</span>

<span class="sd">        Calculates the mean, integral, and standard deviation of the sub-range</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        xrange: tuple[float, float]</span>
<span class="sd">            the subrange of the histogram (min, max) in x-coordinates</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple[float, float, float] | None</span>
<span class="sd">            Returns a tuple of (integral, mean, std. dev.) for the subrange, or None if the subrange is not within the histogram bounds</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">clamped_range</span> <span class="o">=</span> <span class="n">clamp_range</span><span class="p">(</span><span class="n">xrange</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
        <span class="n">bin_min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bin</span><span class="p">(</span><span class="n">clamped_range</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">bin_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bin</span><span class="p">(</span><span class="n">clamped_range</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">bin_min</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">bin_max</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">integral</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">])</span>
        <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">variance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">]</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">,</span>
            <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">integral</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">variance</span><span class="p">))</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_subrange</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">xrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a subrange of the histogram</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        xrange: tuple[float, float]</span>
<span class="sd">            the subrange of the histogram (min, max) in x-coordinates</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple[ndarray, ndarray]</span>
<span class="sd">            the subrange (bin edges, counts)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span> <span class="o">&gt;=</span> <span class="n">xrange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span> <span class="o">&lt;</span> <span class="n">xrange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">[</span><span class="n">mask</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">mask</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Hist1D.get_bin" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_bin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the bin number which contains the x-coordinate</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>X-coordinate for which we want to find the bin number</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The bin number or None if the x value does not fall within the histogram</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_bin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the bin number which contains the x-coordinate</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    x: float</span>
<span class="sd">        X-coordinate for which we want to find the bin number</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int | None</span>
<span class="sd">        The bin number or None if the x value does not fall within the histogram</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">max</span><span class="p">():</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">floor</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">bin_width</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Hist1D.get_subrange" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_subrange</span><span class="p">(</span><span class="n">xrange</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get a subrange of the histogram</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>xrange</code>
            </td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the subrange of the histogram (min, max) in x-coordinates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[ndarray, ndarray]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the subrange (bin edges, counts)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_subrange</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">xrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a subrange of the histogram</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    xrange: tuple[float, float]</span>
<span class="sd">        the subrange of the histogram (min, max) in x-coordinates</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple[ndarray, ndarray]</span>
<span class="sd">        the subrange (bin edges, counts)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span> <span class="o">&gt;=</span> <span class="n">xrange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span> <span class="o">&lt;</span> <span class="n">xrange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">[</span><span class="n">mask</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">mask</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Hist1D.stats_for_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stats_for_range</span><span class="p">(</span><span class="n">xrange</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get some statistics for a histogram subrange</p>
<p>Calculates the mean, integral, and standard deviation of the sub-range</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>xrange</code>
            </td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the subrange of the histogram (min, max) in x-coordinates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[float, float, float] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns a tuple of (integral, mean, std. dev.) for the subrange, or None if the subrange is not within the histogram bounds</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">stats_for_range</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">xrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get some statistics for a histogram subrange</span>

<span class="sd">    Calculates the mean, integral, and standard deviation of the sub-range</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    xrange: tuple[float, float]</span>
<span class="sd">        the subrange of the histogram (min, max) in x-coordinates</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple[float, float, float] | None</span>
<span class="sd">        Returns a tuple of (integral, mean, std. dev.) for the subrange, or None if the subrange is not within the histogram bounds</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clamped_range</span> <span class="o">=</span> <span class="n">clamp_range</span><span class="p">(</span><span class="n">xrange</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
    <span class="n">bin_min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bin</span><span class="p">(</span><span class="n">clamped_range</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">bin_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bin</span><span class="p">(</span><span class="n">clamped_range</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">bin_min</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">bin_max</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">integral</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">])</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">],</span> <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">variance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">]</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="n">weights</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">:</span><span class="n">bin_max</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">integral</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">variance</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="spyral_utils.plot.Hist2D" class="doc doc-heading">
            <code>Hist2D</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Dataclass wrapping a numpy array used to store two-dimensional histogram data and retrieve histogram statistics</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist2D.name">name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>histogram name</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist2D.counts">counts</span></code></td>
            <td>
                  <code>ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>array of histogram counts</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist2D.x_bins">x_bins</span></code></td>
            <td>
                  <code>ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>array of histogram x bin edges</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist2D.y_bins">y_bins</span></code></td>
            <td>
                  <code>ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>array of histogram y bin edges</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist2D.x_bin_width">x_bin_width</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the width of histogram x bins</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Hist2D.y_bin_width">y_bin_width</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the width of histogram y bins</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Hist2D.get_bin" href="#spyral_utils.plot.Hist2D.get_bin">get_bin</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>get the x and y bin numbers for an (x,y)-coordinate value</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Hist2D.stats_for_range" href="#spyral_utils.plot.Hist2D.stats_for_range">stats_for_range</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>get some statistics for a subrange of the histogram</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Hist2D.get_subrange" href="#spyral_utils.plot.Hist2D.get_subrange">get_subrange</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>get a histogram subrange (x bin edges, y bin edges, counts)</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Hist2D</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dataclass wrapping a numpy array used to store two-dimensional histogram data and retrieve histogram statistics</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        histogram name</span>
<span class="sd">    counts: ndarray</span>
<span class="sd">        array of histogram counts</span>
<span class="sd">    x_bins: ndarray</span>
<span class="sd">        array of histogram x bin edges</span>
<span class="sd">    y_bins: ndarray</span>
<span class="sd">        array of histogram y bin edges</span>
<span class="sd">    x_bin_width: float</span>
<span class="sd">        the width of histogram x bins</span>
<span class="sd">    y_bin_width: float</span>
<span class="sd">        the width of histogram y bins</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    get_bin(coords: tuple[float, float]) -&gt; tuple[int, int] | None</span>
<span class="sd">        get the x and y bin numbers for an (x,y)-coordinate value</span>
<span class="sd">    stats_for_range(xrange: tuple[float, float], yrange: tuple[float, float]) -&gt; tuple[float, float, float, float, float] | None</span>
<span class="sd">        get some statistics for a subrange of the histogram</span>
<span class="sd">    get_subrange(xrange: tuple[float, float], xrange: tuple[float, float]) -&gt; tuple[ndarray, ndarray, ndarray]</span>
<span class="sd">        get a histogram subrange (x bin edges, y bin edges, counts)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">counts</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">]</span>
    <span class="n">x_bins</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">]</span>
    <span class="n">y_bins</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">]</span>
    <span class="n">x_bin_width</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y_bin_width</span><span class="p">:</span> <span class="nb">float</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_bin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the x and y bin numbers for an (x,y)-coordinate value</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        coords: tuple[float, float]</span>
<span class="sd">            The (x,y) corrdinate for which we want to find the bin numbers</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple[int, int] | None</span>
<span class="sd">            Returns the (x bin, y bin) numbers or None if out of range</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="ow">or</span> <span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="o">.</span><span class="n">max</span><span class="p">())</span> <span class="ow">or</span> <span class="p">(</span>
            <span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="ow">or</span> <span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">y_bin</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">floor</span><span class="p">((</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bin_width</span><span class="p">))</span>
        <span class="n">x_bin</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">floor</span><span class="p">((</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bin_width</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x_bin</span><span class="p">,</span> <span class="n">y_bin</span><span class="p">)</span>

    <span class="c1"># returns (integral, mean x, std_dev x, mean y, std_dev y)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">stats_for_range</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">xrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">yrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get some statistics for a histogram subrange</span>

<span class="sd">        Calculates the mean in x and y, integral, and standard deviation in x and y of the sub-range</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        xrange: tuple[float, float]</span>
<span class="sd">            the subrange of the histogram (min, max) in x-coordinates</span>
<span class="sd">        yrange: tuple[float, float]</span>
<span class="sd">            the subrange of the histogram (min, max) in y-coordinates</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple[float, float, float, float, float] | None</span>
<span class="sd">            Returns a tuple of (integral, x mean, y mean, x std. dev., y std. dev.) for the subrange, or None if the subrange is not within the histogram bounds</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">clamped_x_range</span> <span class="o">=</span> <span class="n">clamp_range</span><span class="p">(</span><span class="n">xrange</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
        <span class="n">clamped_y_range</span> <span class="o">=</span> <span class="n">clamp_range</span><span class="p">(</span><span class="n">yrange</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
        <span class="n">bin_min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bin</span><span class="p">((</span><span class="n">clamped_x_range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">clamped_y_range</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">bin_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bin</span><span class="p">((</span><span class="n">clamped_x_range</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">clamped_y_range</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">if</span> <span class="n">bin_min</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">bin_max</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">x_bin_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stop</span><span class="o">=</span><span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">y_bin_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">stop</span><span class="o">=</span><span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">bin_mesh</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">y_bin_range</span><span class="p">,</span> <span class="n">x_bin_range</span><span class="p">)</span>

        <span class="n">integral</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_mesh</span><span class="p">])</span>
        <span class="n">mean_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="mi">1</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">mean_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="mi">1</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">var_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">-</span> <span class="n">mean_x</span><span class="p">)</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">,</span>
            <span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="mi">1</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">var_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">-</span> <span class="n">mean_y</span><span class="p">)</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">,</span>
            <span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="mi">1</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">integral</span><span class="p">,</span> <span class="n">mean_x</span><span class="p">,</span> <span class="n">mean_y</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_x</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_y</span><span class="p">))</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_subrange</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">xrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">yrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a subrange of the histogram</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        xrange: tuple[float, float]</span>
<span class="sd">            the subrange of the histogram (min, max) in x-coordinates</span>
<span class="sd">        yrange: tuple[float, float]</span>
<span class="sd">            the subrange of the histogram (min, max) in y-coordinates</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple[ndarray, ndarray, ndarray]</span>
<span class="sd">            the subrange (x bin edges, y bin edges, counts)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span> <span class="o">&gt;=</span> <span class="n">xrange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span> <span class="o">&lt;</span> <span class="n">xrange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">y_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span> <span class="o">&gt;=</span> <span class="n">yrange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span> <span class="o">&lt;</span> <span class="n">yrange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">bin_mesh</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">y_mask</span><span class="p">,</span> <span class="n">x_mask</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="p">[</span><span class="n">x_mask</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="p">[</span><span class="n">y_mask</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_mesh</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Hist2D.get_bin" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_bin</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get the x and y bin numbers for an (x,y)-coordinate value</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>coords</code>
            </td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The (x,y) corrdinate for which we want to find the bin numbers</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[int, int] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns the (x bin, y bin) numbers or None if out of range</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_bin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the x and y bin numbers for an (x,y)-coordinate value</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    coords: tuple[float, float]</span>
<span class="sd">        The (x,y) corrdinate for which we want to find the bin numbers</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple[int, int] | None</span>
<span class="sd">        Returns the (x bin, y bin) numbers or None if out of range</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="ow">or</span> <span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="o">.</span><span class="n">max</span><span class="p">())</span> <span class="ow">or</span> <span class="p">(</span>
        <span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="ow">or</span> <span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">y_bin</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">floor</span><span class="p">((</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bin_width</span><span class="p">))</span>
    <span class="n">x_bin</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">floor</span><span class="p">((</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bin_width</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x_bin</span><span class="p">,</span> <span class="n">y_bin</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Hist2D.get_subrange" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_subrange</span><span class="p">(</span><span class="n">xrange</span><span class="p">,</span> <span class="n">yrange</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get a subrange of the histogram</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>xrange</code>
            </td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the subrange of the histogram (min, max) in x-coordinates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>yrange</code>
            </td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the subrange of the histogram (min, max) in y-coordinates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[ndarray, ndarray, ndarray]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the subrange (x bin edges, y bin edges, counts)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_subrange</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">xrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">yrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a subrange of the histogram</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    xrange: tuple[float, float]</span>
<span class="sd">        the subrange of the histogram (min, max) in x-coordinates</span>
<span class="sd">    yrange: tuple[float, float]</span>
<span class="sd">        the subrange of the histogram (min, max) in y-coordinates</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple[ndarray, ndarray, ndarray]</span>
<span class="sd">        the subrange (x bin edges, y bin edges, counts)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span> <span class="o">&gt;=</span> <span class="n">xrange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span> <span class="o">&lt;</span> <span class="n">xrange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">y_mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span> <span class="o">&gt;=</span> <span class="n">yrange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span> <span class="o">&lt;</span> <span class="n">yrange</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">bin_mesh</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">y_mask</span><span class="p">,</span> <span class="n">x_mask</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="p">[</span><span class="n">x_mask</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="p">[</span><span class="n">y_mask</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_mesh</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Hist2D.stats_for_range" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stats_for_range</span><span class="p">(</span><span class="n">xrange</span><span class="p">,</span> <span class="n">yrange</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get some statistics for a histogram subrange</p>
<p>Calculates the mean in x and y, integral, and standard deviation in x and y of the sub-range</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>xrange</code>
            </td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the subrange of the histogram (min, max) in x-coordinates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>yrange</code>
            </td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the subrange of the histogram (min, max) in y-coordinates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[float, float, float, float, float] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns a tuple of (integral, x mean, y mean, x std. dev., y std. dev.) for the subrange, or None if the subrange is not within the histogram bounds</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">stats_for_range</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">xrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">yrange</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get some statistics for a histogram subrange</span>

<span class="sd">    Calculates the mean in x and y, integral, and standard deviation in x and y of the sub-range</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    xrange: tuple[float, float]</span>
<span class="sd">        the subrange of the histogram (min, max) in x-coordinates</span>
<span class="sd">    yrange: tuple[float, float]</span>
<span class="sd">        the subrange of the histogram (min, max) in y-coordinates</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple[float, float, float, float, float] | None</span>
<span class="sd">        Returns a tuple of (integral, x mean, y mean, x std. dev., y std. dev.) for the subrange, or None if the subrange is not within the histogram bounds</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clamped_x_range</span> <span class="o">=</span> <span class="n">clamp_range</span><span class="p">(</span><span class="n">xrange</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
    <span class="n">clamped_y_range</span> <span class="o">=</span> <span class="n">clamp_range</span><span class="p">(</span><span class="n">yrange</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
    <span class="n">bin_min</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bin</span><span class="p">((</span><span class="n">clamped_x_range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">clamped_y_range</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="n">bin_max</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bin</span><span class="p">((</span><span class="n">clamped_x_range</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">clamped_y_range</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">bin_min</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">bin_max</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">x_bin_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">stop</span><span class="o">=</span><span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">y_bin_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">stop</span><span class="o">=</span><span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">bin_mesh</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">y_bin_range</span><span class="p">,</span> <span class="n">x_bin_range</span><span class="p">)</span>

    <span class="n">integral</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_mesh</span><span class="p">])</span>
    <span class="n">mean_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
        <span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">mean_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
        <span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">var_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">-</span> <span class="n">mean_x</span><span class="p">)</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">var_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">(</span>
        <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">-</span> <span class="n">mean_y</span><span class="p">)</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">counts</span><span class="p">[</span><span class="n">bin_min</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">bin_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="mi">1</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">integral</span><span class="p">,</span> <span class="n">mean_x</span><span class="p">,</span> <span class="n">mean_y</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_x</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">var_y</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="spyral_utils.plot.Histogrammer" class="doc doc-heading">
            <code>Histogrammer</code>


</h2>


    <div class="doc doc-contents ">


        <p>Histogrammer is a wrapper around a dictionary of str-&gt;Hist1D|Hist2D that interfaces with matplotlib</p>
<p>A new histogram can be added to the dictionary using the add_hist1d/add_hist2d methods. The name passed to
these methods is used as the key for the dictionary. To add data to the histograms use the fill_hist1d/fill_hist2d methods.
The fill methods accept arrays of data, and this is by intent. It would not be efficient to fill the histograms point by point. Rather, prefer
passing entire data sets (like dataframe columns). Finally, to retrieve a histogram (for plotting, etc), use the get_hist1d/get_hist2d methods.
Prefer the getters over direct access to the underlying dictionary as the getters perfom some error checking.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="spyral_utils.plot.Histogrammer.histograms">histograms</span></code></td>
            <td>
                  <code>dict[str, <a class="autorefs autorefs-internal" title="spyral_utils.plot.histogram.Hist1D" href="histogram/#spyral_utils.plot.histogram.Hist1D">Hist1D</a> | <a class="autorefs autorefs-internal" title="spyral_utils.plot.histogram.Hist2D" href="histogram/#spyral_utils.plot.histogram.Hist2D">Hist2D</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the histograms held by the Histogrammer, mapped by name</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Histogrammer.add_hist1d" href="#spyral_utils.plot.Histogrammer.add_hist1d">add_hist1d</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>add a Hist1D</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Histogrammer.add_hist2d" href="#spyral_utils.plot.Histogrammer.add_hist2d">add_hist2d</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>add a Hist2D</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Histogrammer.fill_hist1d" href="#spyral_utils.plot.Histogrammer.fill_hist1d">fill_hist1d</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>fill an existing Hist1D with some data</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Histogrammer.fill_hist2d" href="#spyral_utils.plot.Histogrammer.fill_hist2d">fill_hist2d</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>fill an existing Hist2D with some data</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Histogrammer.get_hist1d" href="#spyral_utils.plot.Histogrammer.get_hist1d">get_hist1d</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>get a Hist1D by name</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="spyral_utils.plot.Histogrammer.get_hist2d" href="#spyral_utils.plot.Histogrammer.get_hist2d">get_hist2d</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>get a Hist2D by name</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>






              <details class="quote">
                <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Histogrammer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Histogrammer is a wrapper around a dictionary of str-&gt;Hist1D|Hist2D that interfaces with matplotlib</span>

<span class="sd">    A new histogram can be added to the dictionary using the add_hist1d/add_hist2d methods. The name passed to</span>
<span class="sd">    these methods is used as the key for the dictionary. To add data to the histograms use the fill_hist1d/fill_hist2d methods.</span>
<span class="sd">    The fill methods accept arrays of data, and this is by intent. It would not be efficient to fill the histograms point by point. Rather, prefer</span>
<span class="sd">    passing entire data sets (like dataframe columns). Finally, to retrieve a histogram (for plotting, etc), use the get_hist1d/get_hist2d methods.</span>
<span class="sd">    Prefer the getters over direct access to the underlying dictionary as the getters perfom some error checking.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    histograms: dict[str, Hist1D | Hist2D]</span>
<span class="sd">        the histograms held by the Histogrammer, mapped by name</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    add_hist1d(name: str, bins: int, range: tuple[float, float])</span>
<span class="sd">        add a Hist1D</span>
<span class="sd">    add_hist2d(name: str, bins: tuple[int, int], ranges: tuple[tuple[float, float], tuple[float, float]])</span>
<span class="sd">        add a Hist2D</span>
<span class="sd">    fill_hist1d(self, name: str, data: ndarray) -&gt; bool</span>
<span class="sd">        fill an existing Hist1D with some data</span>
<span class="sd">    fill_hist2d(self, name: str, x_data: ndarray, y_data: ndarray) -&gt; bool</span>
<span class="sd">        fill an existing Hist2D with some data</span>
<span class="sd">    get_hist1d(name: str) -&gt; Hist1D | None</span>
<span class="sd">        get a Hist1D by name</span>
<span class="sd">    get_hist2d(name: str) -&gt; Hist2D | None</span>
<span class="sd">        get a Hist2D by name</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Hist1D</span> <span class="o">|</span> <span class="n">Hist2D</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_hist1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bins</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">range</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a Hist1D to the Histogrammer</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            The name of the histogram, it should be unqiue</span>
<span class="sd">        bins: int</span>
<span class="sd">            The number of bins</span>
<span class="sd">        range: tuple[float, float]</span>
<span class="sd">            The x-range of the histogram in x-axis coordinates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Overwriting histogram named </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> in Histogrammer.add_histogram!&quot;</span><span class="p">)</span>

        <span class="n">hist</span> <span class="o">=</span> <span class="n">Hist1D</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="nb">range</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="nb">range</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">hist</span><span class="o">.</span><span class="n">counts</span><span class="p">,</span> <span class="n">hist</span><span class="o">.</span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">[],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="nb">range</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">hist</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_hist2d</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">bins</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="n">ranges</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a Hist2D to the Histogrammer</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            The name of the histogram, it should be unqiue</span>
<span class="sd">        bins: tuple[int, int]</span>
<span class="sd">            The number of (x bins, y bins)</span>
<span class="sd">        ranges: tuple[tuple[float, float], tuple[float, float]]</span>
<span class="sd">            The range of the histogram ((min x, max x), (min y, max y))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Overwriting histogram named </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> in Histogrammer.add_histogram!&quot;</span><span class="p">)</span>

        <span class="n">hist</span> <span class="o">=</span> <span class="n">Hist2D</span><span class="p">(</span>
            <span class="n">name</span><span class="p">,</span>
            <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">ranges</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">ranges</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">bins</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
            <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">ranges</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">ranges</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">bins</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
        <span class="p">)</span>
        <span class="n">hist</span><span class="o">.</span><span class="n">counts</span><span class="p">,</span> <span class="n">hist</span><span class="o">.</span><span class="n">x_bins</span><span class="p">,</span> <span class="n">hist</span><span class="o">.</span><span class="n">y_bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram2d</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">[],</span> <span class="n">y</span><span class="o">=</span><span class="p">[],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="n">ranges</span>
        <span class="p">)</span>
        <span class="n">hist</span><span class="o">.</span><span class="n">counts</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">counts</span><span class="o">.</span><span class="n">T</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">hist</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">fill_hist1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fill a Hist1D with some data</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            The name of the Hist1D</span>
<span class="sd">        data: ndarray</span>
<span class="sd">            The data to fill the histogram with. Should be a 1-D array</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Indicates if data was successfully added to the histogram</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Hist1D</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">hist</span><span class="o">.</span><span class="n">counts</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">counts</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">hist</span><span class="o">.</span><span class="n">bins</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">fill_hist2d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">x_data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">y_data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fill a Hist1D with some data</span>

<span class="sd">        The parameters x_data and y_data should have the same length.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            The name of the Hist1D</span>
<span class="sd">        x_data: ndarray</span>
<span class="sd">            The x coordinates of the data. Should be a 1-D array.</span>
<span class="sd">        y_data: ndarray</span>
<span class="sd">            The y coordinates of the data. Should be a 1-D array.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Indicates if data was successfully added to the histogram</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Hist2D</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">counts</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram2d</span><span class="p">(</span>
            <span class="n">x_data</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span>
            <span class="n">y_data</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span>
            <span class="n">bins</span><span class="o">=</span><span class="p">(</span><span class="n">hist</span><span class="o">.</span><span class="n">x_bins</span><span class="p">,</span> <span class="n">hist</span><span class="o">.</span><span class="n">y_bins</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>
        <span class="n">hist</span><span class="o">.</span><span class="n">counts</span> <span class="o">+=</span> <span class="n">counts</span><span class="o">.</span><span class="n">T</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_hist1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Hist1D</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a Hist1D by name</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            The name of the histogram</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Hist1D | None</span>
<span class="sd">            Returns Hist1D if a Hist1D exists with the given name. Otherwise returns None.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Hist1D</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">hist</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_hist2d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Hist2D</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a Hist2D by name</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            The name of the histogram</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Hist2D | None</span>
<span class="sd">            Returns Hist2D if a Hist2D exists with the given name. Otherwise returns None.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Hist2D</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">hist</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Histogrammer.add_hist1d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_hist1d</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="nb">range</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a Hist1D to the Histogrammer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the histogram, it should be unqiue</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bins</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of bins</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>range</code>
            </td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x-range of the histogram in x-axis coordinates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_hist1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bins</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">range</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a Hist1D to the Histogrammer</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        The name of the histogram, it should be unqiue</span>
<span class="sd">    bins: int</span>
<span class="sd">        The number of bins</span>
<span class="sd">    range: tuple[float, float]</span>
<span class="sd">        The x-range of the histogram in x-axis coordinates</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Overwriting histogram named </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> in Histogrammer.add_histogram!&quot;</span><span class="p">)</span>

    <span class="n">hist</span> <span class="o">=</span> <span class="n">Hist1D</span><span class="p">(</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="nb">range</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="nb">range</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">counts</span><span class="p">,</span> <span class="n">hist</span><span class="o">.</span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">[],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="nb">range</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">hist</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Histogrammer.add_hist2d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_hist2d</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">ranges</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add a Hist2D to the Histogrammer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the histogram, it should be unqiue</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>bins</code>
            </td>
            <td>
                  <code>tuple[int, int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of (x bins, y bins)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ranges</code>
            </td>
            <td>
                  <code>tuple[tuple[float, float], tuple[float, float]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The range of the histogram ((min x, max x), (min y, max y))</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_hist2d</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">bins</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="n">ranges</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a Hist2D to the Histogrammer</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        The name of the histogram, it should be unqiue</span>
<span class="sd">    bins: tuple[int, int]</span>
<span class="sd">        The number of (x bins, y bins)</span>
<span class="sd">    ranges: tuple[tuple[float, float], tuple[float, float]]</span>
<span class="sd">        The range of the histogram ((min x, max x), (min y, max y))</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Overwriting histogram named </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> in Histogrammer.add_histogram!&quot;</span><span class="p">)</span>

    <span class="n">hist</span> <span class="o">=</span> <span class="n">Hist2D</span><span class="p">(</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">ranges</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">ranges</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">bins</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
        <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">ranges</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">ranges</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">bins</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
    <span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">counts</span><span class="p">,</span> <span class="n">hist</span><span class="o">.</span><span class="n">x_bins</span><span class="p">,</span> <span class="n">hist</span><span class="o">.</span><span class="n">y_bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram2d</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="p">[],</span> <span class="n">y</span><span class="o">=</span><span class="p">[],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="n">ranges</span>
    <span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">counts</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">counts</span><span class="o">.</span><span class="n">T</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">hist</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Histogrammer.fill_hist1d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fill_hist1d</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Fill a Hist1D with some data</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the Hist1D</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data to fill the histogram with. Should be a 1-D array</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates if data was successfully added to the histogram</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fill_hist1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fill a Hist1D with some data</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        The name of the Hist1D</span>
<span class="sd">    data: ndarray</span>
<span class="sd">        The data to fill the histogram with. Should be a 1-D array</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bool</span>
<span class="sd">        Indicates if data was successfully added to the histogram</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Hist1D</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">hist</span><span class="o">.</span><span class="n">counts</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">counts</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">hist</span><span class="o">.</span><span class="n">bins</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Histogrammer.fill_hist2d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fill_hist2d</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">x_data</span><span class="p">,</span> <span class="n">y_data</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Fill a Hist1D with some data</p>
<p>The parameters x_data and y_data should have the same length.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the Hist1D</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_data</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The x coordinates of the data. Should be a 1-D array.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_data</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The y coordinates of the data. Should be a 1-D array.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates if data was successfully added to the histogram</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fill_hist2d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">x_data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">y_data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fill a Hist1D with some data</span>

<span class="sd">    The parameters x_data and y_data should have the same length.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        The name of the Hist1D</span>
<span class="sd">    x_data: ndarray</span>
<span class="sd">        The x coordinates of the data. Should be a 1-D array.</span>
<span class="sd">    y_data: ndarray</span>
<span class="sd">        The y coordinates of the data. Should be a 1-D array.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bool</span>
<span class="sd">        Indicates if data was successfully added to the histogram</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Hist2D</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">counts</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram2d</span><span class="p">(</span>
        <span class="n">x_data</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span>
        <span class="n">y_data</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span>
        <span class="n">bins</span><span class="o">=</span><span class="p">(</span><span class="n">hist</span><span class="o">.</span><span class="n">x_bins</span><span class="p">,</span> <span class="n">hist</span><span class="o">.</span><span class="n">y_bins</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
    <span class="n">hist</span><span class="o">.</span><span class="n">counts</span> <span class="o">+=</span> <span class="n">counts</span><span class="o">.</span><span class="n">T</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Histogrammer.get_hist1d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_hist1d</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Retrieve a Hist1D by name</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the histogram</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="spyral_utils.plot.histogram.Hist1D" href="histogram/#spyral_utils.plot.histogram.Hist1D">Hist1D</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns Hist1D if a Hist1D exists with the given name. Otherwise returns None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_hist1d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Hist1D</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve a Hist1D by name</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        The name of the histogram</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Hist1D | None</span>
<span class="sd">        Returns Hist1D if a Hist1D exists with the given name. Otherwise returns None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Hist1D</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">hist</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="spyral_utils.plot.Histogrammer.get_hist2d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_hist2d</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Retrieve a Hist2D by name</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the histogram</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="spyral_utils.plot.histogram.Hist2D" href="histogram/#spyral_utils.plot.histogram.Hist2D">Hist2D</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns Hist2D if a Hist2D exists with the given name. Otherwise returns None.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/histogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_hist2d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Hist2D</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve a Hist2D by name</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name: str</span>
<span class="sd">        The name of the histogram</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Hist2D | None</span>
<span class="sd">        Returns Hist2D if a Hist2D exists with the given name. Otherwise returns None.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">histograms</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">Hist2D</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">hist</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="spyral_utils.plot.deserialize_cut" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deserialize_cut</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Deserialize the JSON representation of a Cut2D</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path at which cut should be read from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="spyral_utils.plot.cut.Cut2D" href="cut/#spyral_utils.plot.cut.Cut2D">Cut2D</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns a Cut2D on success, None on failure</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">deserialize_cut</span><span class="p">(</span><span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Cut2D</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserialize the JSON representation of a Cut2D</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    filepath: Path</span>
<span class="sd">        Path at which cut should be read from</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Cut2D | None</span>
<span class="sd">        Returns a Cut2D on success, None on failure</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="nb">input</span><span class="p">:</span>
            <span class="n">buffer</span> <span class="o">=</span> <span class="nb">input</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="n">cut_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">cut_dict</span> <span class="ow">and</span> <span class="s2">&quot;vertices&quot;</span> <span class="ow">in</span> <span class="n">cut_dict</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Data in file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2"> is not the right format for Cut2D, could not load&quot;</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="n">xaxis</span> <span class="o">=</span> <span class="n">DEFAULT_CUT_AXIS</span>
            <span class="n">yaxis</span> <span class="o">=</span> <span class="n">DEFAULT_CUT_AXIS</span>
            <span class="k">if</span> <span class="s2">&quot;xaxis&quot;</span> <span class="ow">in</span> <span class="n">cut_dict</span> <span class="ow">and</span> <span class="s2">&quot;yaxis&quot;</span> <span class="ow">in</span> <span class="n">cut_dict</span><span class="p">:</span>
                <span class="n">xaxis</span> <span class="o">=</span> <span class="n">cut_dict</span><span class="p">[</span><span class="s2">&quot;xaxis&quot;</span><span class="p">]</span>
                <span class="n">yaxis</span> <span class="o">=</span> <span class="n">cut_dict</span><span class="p">[</span><span class="s2">&quot;yaxis&quot;</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">Cut2D</span><span class="p">(</span>
                <span class="n">cut_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
                <span class="n">cut_dict</span><span class="p">[</span><span class="s2">&quot;vertices&quot;</span><span class="p">],</span>
                <span class="n">x_axis</span><span class="o">=</span><span class="n">xaxis</span><span class="p">,</span>
                <span class="n">y_axis</span><span class="o">=</span><span class="n">yaxis</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;An error occurred reading trying to read a cut from file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="spyral_utils.plot.serialize_cut" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">serialize_cut</span><span class="p">(</span><span class="n">cut</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Serialize the cut to JSON and write to a file file</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cut</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="spyral_utils.plot.cut.Cut2D" href="cut/#spyral_utils.plot.cut.Cut2D">Cut2D</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cut to serialize</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path at which cut should be written</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True on success, False on failure</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>src/spyral_utils/plot/cut.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">serialize_cut</span><span class="p">(</span><span class="n">cut</span><span class="p">:</span> <span class="n">Cut2D</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serialize the cut to JSON and write to a file file</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    cut: Cut2D</span>
<span class="sd">        Cut to serialize</span>
<span class="sd">    filepath: Path</span>
<span class="sd">        Path at which cut should be written</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bool</span>
<span class="sd">        True on success, False on failure</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_str</span> <span class="o">=</span> <span class="n">cut</span><span class="o">.</span><span class="n">serialize_json</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
            <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occurred writing cut </span><span class="si">{</span><span class="n">cut</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> to file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>